import streamlit as st
import pandas as pd

# ì—‘ì…€ íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°
df = pd.read_excel("2022ë…„ ì‹œë„ë³„ ë°°ì¶œëŸ‰.xlsx")

# ì²« ë²ˆì§¸ í–‰ì„ ì»¬ëŸ¼ ì´ë¦„ìœ¼ë¡œ ì„¤ì •
df.columns = df.iloc[0]
df = df.drop(index=0)

# 'í–‰ì •êµ¬ì—­' ì»¬ëŸ¼ ìœ ì§€ ë° 'í•©ê³„'(= ëª¨ë“  ì˜¤ì—¼ë¬¼ì§ˆ ë°°ì¶œëŸ‰ì˜ í•©) ì»¬ëŸ¼ ë§Œë“¤ê¸°
df = df.rename(columns={df.columns[0]: 'í–‰ì •êµ¬ì—­'})
numeric_cols = df.columns[1:]
df[numeric_cols] = df[numeric_cols].apply(pd.to_numeric, errors='coerce')  # ìˆ«ìë¡œ ë³€í™˜

df['í•©ê³„'] = df[numeric_cols].sum(axis=1)

# UI êµ¬ì„±
st.title("2022ë…„ ì‹œë„ë³„ ëŒ€ê¸°ì˜¤ì—¼ë¬¼ì§ˆ ë°°ì¶œëŸ‰ ë¶„ì„")
st.markdown("ì´ ì•±ì€ 2022ë…„ ê¸°ì¤€ ì‹œë„ë³„ ë°°ì¶œëŸ‰ ë°ì´í„°ë¥¼ ì‹œê°í™”í•œ ê²ƒì…ë‹ˆë‹¤.")

# ì›ë³¸ ë°ì´í„° í‘œì‹œ
st.subheader("ğŸ“Š ì›ë³¸ ë°ì´í„°")
st.dataframe(df)

# ì„  ê·¸ë˜í”„ í‘œì‹œ (Streamlit ê¸°ë³¸ line_chart ì‚¬ìš©)
st.subheader("ğŸ“ˆ í•©ê³„ ê¸°ì¤€ ì‹œë„ë³„ ë°°ì¶œëŸ‰ ì‹œê°í™”")
chart_data = df.set_index("í–‰ì •êµ¬ì—­")[['í•©ê³„']]
st.line_chart(chart_data.T)  # í–‰ì •êµ¬ì—­ì„ ê°€ë¡œì¶•, ë°°ì¶œëŸ‰ì„ ì„¸ë¡œì¶•ìœ¼ë¡œ í‘œí˜„

