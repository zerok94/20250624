import streamlit as st
import pandas as pd

# ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
df = pd.read_excel("2022ë…„ ì‹œë„ë³„ ë°°ì¶œëŸ‰.xlsx")

# ì»¬ëŸ¼ ì¬ì„¤ì • ë° ì²« ë²ˆì§¸ í–‰ ì œê±°
df.columns = df.iloc[0]
df = df.drop(index=0)
df = df.rename(columns={df.columns[0]: 'í–‰ì •êµ¬ì—­'})

# ìˆ«ìí˜• ì»¬ëŸ¼ë§Œ ì¶”ì¶œ í›„ floatìœ¼ë¡œ ë³€í™˜
numeric_cols = df.columns[1:]
df[numeric_cols] = df[numeric_cols].replace(",", "", regex=True)
df[numeric_cols] = df[numeric_cols].apply(pd.to_numeric, errors='coerce')

# í•©ê³„ ì»¬ëŸ¼ ì¶”ê°€
df['í•©ê³„'] = df[numeric_cols].sum(axis=1)

# Streamlit UI
st.title("2022ë…„ ì‹œë„ë³„ ëŒ€ê¸°ì˜¤ì—¼ë¬¼ì§ˆ ë°°ì¶œëŸ‰ ë¶„ì„")
st.markdown("ì‹œë„ë³„ë¡œ ë‹¤ì–‘í•œ ì˜¤ì—¼ë¬¼ì§ˆì˜ ë°°ì¶œëŸ‰ì„ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

# ì›ë³¸ ë°ì´í„° ì¶œë ¥
st.subheader("ğŸ“Š ì›ë³¸ ë°ì´í„°")
st.dataframe(df)

# ì„  ê·¸ë˜í”„: í–‰ì •êµ¬ì—­ë³„ í•©ê³„
st.subheader("ğŸ“ˆ ì‹œë„ë³„ ë°°ì¶œëŸ‰(í•©ê³„) ì¶”ì´")
chart_data = df.set_index("í–‰ì •êµ¬ì—­")[['í•©ê³„']]
st.line_chart(chart_data.T)

